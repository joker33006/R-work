name <- findElement(remDr,using=c(id="ContentPlaceHolder1_teams_name"))
name <- findElement(remDr,using=id,value="ContentPlaceHolder1_teams_name")
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=2072266814")
name <- findElement(remDr,using=id,value="ContentPlaceHolder1_teams_name")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=2072266814")
name <- findElement(remDr,using=id,value="ContentPlaceHolder1_teams_name")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1.aspx")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1.aspx")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=1488545234")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=1488545234")
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=1488545234")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=1488545234")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=1488545234")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
clik <- findElement(remDr,using = "id", value="chk[]0")
View(r1)
remDr$navigate("https://npm.cpami.gov.tw/apply_1_3.aspx?RandomStr=1704798208")
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
clik <-  remDr$find_element_by_id(chk[]0)
clik <-  remDr$find_element_by_id("chk[]0")
library(seleniumPipes)
clik <-  remDr$find_element_by_id("chk[]0")
?find_element_by_id
??find_element_by_id
clik <- findElement(remDr = remDr,using = "input id",value = "chk[]0")
clik <- findElement(remDr = remDr,using = "id",value = "chk\[\]0")
clik <- findElement(remDr = remDr,using = "input id",value = "chk\[\]0")
clik <- remDr$findElement(using ='id',value = "chk\[\]0")
clik <- remDr$findElement(using ='id',value = "chk[]0")
clik$clickElement()
clik$clickElement()
clik <- remDr$findElement(using ='id',value = "chk[]9")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
clik <- remDr$findElement(using ='id',value = "chk[]0")
clik$clickElement()
clik2 <- remDr$findElement(using ='id',value = "chk[]9")
clik$clickElement()
clik$clickElement()
clik2$clickElement()
clik3 <- remDr$findElement(using ='id',value = "chk[]10")
clik3$clickElement()
n <- c("",0,9:12)
set_colnames()
n
library(RSelenium)
library(seleniumPipes)
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4445L,
browserName = "firefox")
remDr$open()
library(RSelenium)
library(seleniumPipes)
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4521,
browserName = "firefox")
remDr$open()
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4554L,
browserName = "firefox")
remDr$open()
remDr <- remoteDriver(
port = 4554L,
browserName = "firefox")
remDr$open()
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4441,
browserName = "firefox")
remDr$open()
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
library(RSelenium)
library(seleniumPipes)
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
n <- c("",0,9:12)
for (i in 1:length(n)){
clik <- remDr$findElement(using ='id',value = paste0("chk[]",n[i]))
clik$clickElement()
}
clik <- remDr$findElement(using ='id',value = "ContentPlaceHolder1_btnagree")
aggclick <- remDr$findElement(using ='id',value = "ContentPlaceHolder1_btnagree")
aggclick$clickElement()
aggclick$click()
aggclick <- remDr$findElement(using ='id',value = "ContentPlaceHolder1_btnagree")
aggclick$click()
aggclick$clickElement()
library(RSelenium)
library(seleniumPipes)
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444,
browserName = "firefox")
remDr$open()
remDr$navigate("https://npm.cpami.gov.tw/apply_1_2.aspx?unit=e6dd4652-2d37-4346-8f5d-6e538353e0c2")
n <- c("",0,9:12)
for (i in 1:length(n)){
click <- remDr$findElement(using ='id',value = paste0("chk[]",n[i]))
click$clickElement()
}
aggclick <- remDr$findElement(using ='id',value = "ContentPlaceHolder1_btnagree")
aggclick$clickElement()
team_Name <- remDr$findElement(using = "id",value ="ContentPlaceHolder1_teams_name")
team_Name$sendKeysToElement("中興森林",key="enter")
team_Name$sendKeysToElement(list("中興森林",key="enter"))
selt <- remDr$findElement(using = "id",value = "ContentPlaceHolder1_climblinemain")
selt[[4]]$clickElement()
selt[4]$clickElement()
selt
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
selt2 <- remDr$findElement(using="css selector",value ="#ContentPlaceHolder1_climbline > option:nth-child(4)")
selt$clickElement()
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
selt2 <- remDr$findElement(using="css selector",value ="#ContentPlaceHolder1_climbline > option:nth-child(4)")
selt$clickElement()
selt2 <- remDr$findElement(using="css selector",value ="#ContentPlaceHolder1_climbline > option:nth-child(4)")
selt$clickElement()
selt2 <- remDr$findElement(using="css selector",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### main route
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### main route 路線兩區必須要依序執行
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### main route 路線兩區必須要依序執行
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
### main route 路線兩區必須要依序執行
selt <- remDr$findElement(using = "xpath",value = "/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[1]/option[2]")
selt$clickElement()
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
### main route 路線兩區必須要依序執行
selt <- remDr$findElement(using = "CSS select",value = #ContentPlaceHolder1_climbline > option:nth-child(4))
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
### second route
selt2 <- remDr$findElement(using="xpath",value ="/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[2]/div/select[2]/option[4]")
selt$clickElement()
selt2$clickElement()
### days
selt3 <- remDr$findElement(using="css selector",value =
"#ContentPlaceHolder1_sumday > option:nth-child(6)")
selt3$clickElement()
### date
selt4 <- remDr$findElement(using="xpath",value =
"/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[4]/div/select/option value=109-05-30"
)
### date
selt4 <- remDr$findElement(using="xpath",value =
"/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[4]/div/select/option")
selt3$opition
selt3$option
selt3$value
### date
selt4 <- remDr$findElement(using="xpath",value =
"/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[4]/div/select/")
### date
selt4 <- remDr$findElement(using="xpath",value =
"/html/body/form/div[4]/div[3]/div[2]/div[2]/div/div[3]/div/div/div/div[1]/div/div/div/div[4]/div/select/")
### date
selt4 <- remDr$findElement(using="xpath",value =
"//*[@id='ContentPlaceHolder1_applystart']")
selt4$value
opts <- selt4$selectTag()
selt4$value
selt4$value$value
class(selt4$value$value)
library(RSelenium)
library(seleniumPipes)
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444L,
browserName = "firefox")
remDr$open()
remDr$navigate("https://translate.google.com.tw/?hl=zh-TW")
cn <- remDr$findElement(using = "id",value = "source")
cn$clearElement()
cn$sendKeysToElement(list("我的頭好痛"))
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(10)
}
cn$clearElement()
cn$sendKeysToElement(list("有是嗎 "))
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(0.5)
}
cn <- remDr$findElement(using = "id",value = "source")
cn$clearElement()
cn$sendKeysToElement(list("有是嗎 "))
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(0.5)
}
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(0.1)
}
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(0.2)
}
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(3)
}
cn$sendKeysToElement(list("有是嗎 "))
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(3)
}
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(3)
}
cn <- remDr$findElement(using = "id",value = "source")
cn$clearElement()
cn$sendKeysToElement(list("蘇昱好帥 "))
for (i in 1:10){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(3)
}
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444L,
browserName = "firefox")
library(RSelenium)
library(seleniumPipes)
remDr <- remoteDriver(
remoteServerAddr = "localhost",
port = 4444L,
browserName = "firefox")
remDr$open()
remDr$navigate("https://translate.google.com.tw/?hl=zh-TW")
cn <- remDr$findElement(using = "id",value = "source")
cn$clearElement()
cn$sendKeysToElement(list("方丈為人很小心眼的"))
for (i in 1:5){
cn <- remDr$findElement(using = "css selector",value = ".src-tts > div:nth-child(1)")
cn$clickElement()
Sys.sleep(10)
}
svpath <- "E:/忍者/Git/R-work/GLORIA/GBIF_dataCatch"
#deal with the primary data
each_sp <- list.files(svpath)
my_data <- lapply(each_sp,read.delim)
#deal with the primary data
each_sp <- list.files(svpath)
my_data <- lapply(each_sp,read.delim)
#deal with the primary data
each_sp <- list.files(paste0(svpath,"/prim_result/"))
paste0(svpath,"/prim_result/")
svpath <- "E:/忍者/R-work/Git/GLORIA/GBIF_dataCatch"
#deal with the primary data
each_sp <- list.files(paste0(svpath,"/prim_result/"))
paste0(svpath,"/prim_result/")
setwd("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch")
svpath <- "E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch"
#deal with the primary data
each_sp <- list.files(paste0(svpath,"/prim_result/"))
my_data <- lapply(each_sp,read.delim)
#deal with the primary data
each_sp <- list.files(paste0(svpath,"/prim_result/"),pattern='.csv')
library(data.table)
my_data <- lapply(each_sp,fread,sep=",")
View(my_data)
sp_p <- dir("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch", pattern='.csv')
sp_p <- dir("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,fread,sep=",")
my_data <- lapply(sp_p,read.csv)
sp_p <- list.files("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,read.csv)
setwd("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result")
sp_p <- list.files("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,read.csv)
my_data <- lapply(sp_p,fread)
library(data.table)
setwd("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result")
sp_p <- list.files("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,fread)
View(my_data)
lapply(sp_p,nrow)<30
lapply(my_data,nrow)<30
sp_p[lapply(my_data,nrow)<30]
loss <- sp_p[lapply(my_data,nrow)<30]
write.csv("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/loss_name.csv",loss)
write.csv(loss,"E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/loss_name.csv")
loss <- sub('.csv',"",sp_p[lapply(my_data,nrow)<30])
write.csv(loss,"E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/loss_name.csv")
lapply(my_data,nrow)<30
my_data[lapply(my_data,nrow)<30]
library(rgbif)
parsenames("Ajuga pyramidata")
parsenames("Potentilla leuconota  var.  morrisonicola")
occ_search("Potentilla leuconota  var.  morrisonicola")
occ_search("Potentilla leuconota var. morrisonicola")
occ_search(scientificName = "Potentilla leuconota var. morrisonicola")
setwd("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch")
svpath <- "E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch"
path <- 'E:/Climdata/Chelsa_current_2019'
clim_d_n <- list.files(path)
nlist <-read.csv("loss_list.txt")
for (j in 1:length(nlist[,1])){
name <- as.character(nlist[j,1])
##### start extract the climate data
result <- NULL
for (i in 1:length(clim_d_n)){
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
if (nrow(data)==0){name <- paste0('NULL_',name)
break
}else{
spot <- data[decimalLatitude!="NA",.(decimalLongitude,decimalLatitude)]
x <- extract(rast,spot)
result <-cbind(result,x)
colnames(result)[i] <- paste0("bio_",i)
}
}
write.csv(result,paste0(svpath,"/prim_result/",name,".csv"))
cat(j)
}
library(raster)
library(rgbif)
library(data.table)
for (j in 1:length(nlist[,1])){
name <- as.character(nlist[j,1])
##### start extract the climate data
result <- NULL
for (i in 1:length(clim_d_n)){
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
if (nrow(data)==0){name <- paste0('NULL_',name)
break
}else{
spot <- data[decimalLatitude!="NA",.(decimalLongitude,decimalLatitude)]
x <- extract(rast,spot)
result <-cbind(result,x)
colnames(result)[i] <- paste0("bio_",i)
}
}
write.csv(result,paste0(svpath,"/prim_result/",name,".csv"))
cat(j)
}
sp_p <- list.files("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,fread)
library(data.table)
library(rgbif)
library(data.table)
library(rgbif)
setwd("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result")
sp_p <- list.files("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,fread)
loss <- sub('.csv',"",sp_p[lapply(my_data,nrow)<30])
my_data[lapply(my_data,nrow)<30]
sp_p <- list.files("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch/prim_result", pattern='.csv')
my_data <- lapply(sp_p,fread)
##### start extract the climate data
result <- NULL
name <- 'Agrostis infirma'
for (i in 1:length(clim_d_n)){
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
if (nrow(data)==0){name <- paste0('NULL_',name)
break
}else{
spot <- data[decimalLatitude!="NA",.(decimalLongitude,decimalLatitude)]
x <- extract(rast,spot)
result <-cbind(result,x)
colnames(result)[i] <- paste0("bio_",i)
}
}
clim_d_n <- list.files(path)
library(rgbif)
library(data.table)
library(raster)
setwd("E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch")
svpath <- "E:/忍者/R-work/Git/R-work/GLORIA/GBIF_dataCatch"
path <- 'E:/Climdata/Chelsa_current_2019'
clim_d_n <- list.files(path)
name <- as.character(nlist[j,1])
##### start extract the climate data
result <- NULL
name <- 'Agrostis infirma'
for (i in 1:length(clim_d_n)){
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
if (nrow(data)==0){name <- paste0('NULL_',name)
break
}else{
spot <- data[decimalLatitude!="NA",.(decimalLongitude,decimalLatitude)]
x <- extract(rast,spot)
result <-cbind(result,x)
colnames(result)[i] <- paste0("bio_",i)
}
}
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
for (i in 1:length(clim_d_n)){
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
if (nrow(data)==0){name <- paste0('NULL_',name)
break
}else{
spot <- data[decimalLatitude!="NA",.(decimalLongitude,decimalLatitude)]
x <- extract(rast,spot)
result <-cbind(result,x)
colnames(result)[i] <- paste0("bio_",i)
}
}
for (i in 1:length(clim_d_n)){
rast <- raster(paste0(path,'/',clim_d_n[i]))
data <- as.data.table(occ_search(scientificName = name)$data)
if (nrow(data)==0){name <- paste0('NULL_',name)
break
}else{
spot <- data[decimalLatitude!="NA",.(decimalLongitude,decimalLatitude)]
x <- extract(rast,spot)
result <-cbind(result,x)
colnames(result)[i] <- paste0("bio_",i)
}
}
